FROM node:22-alpine

ARG VITE_URL_BACKEND_INTERNAL
ENV VITE_URL_BACKEND_INTERNAL=$VITE_URL_BACKEND_INTERNAL
ARG VITE_URL_BACKEND_EXTERNAL
ENV VITE_URL_BACKEND_EXTERNAL=$VITE_URL_BACKEND_EXTERNAL

WORKDIR /app
COPY package.json .
RUN npm install
COPY . .
EXPOSE 5173
CMD ["npm", "run", "dev", "--", "--host"]